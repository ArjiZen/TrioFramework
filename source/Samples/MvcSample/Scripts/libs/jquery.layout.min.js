!function($){function removeNode(e){e.each(function(){$(this).remove(),$.browser.msie&&(this.outerHTML="")})}function setSize(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel,o=n.find(">div.panel-header"),i=n.find(">div.panel-body");if(t&&(t.width&&(a.width=t.width),t.height&&(a.height=t.height),null!=t.left&&(a.left=t.left),null!=t.top&&(a.top=t.top)),1==a.fit){var r=n.parent();a.width=r.width(),a.height=r.height()}n.css({left:a.left,top:a.top}),n.css(a.style),n.addClass(a.cls),o.addClass(a.headerCls),i.addClass(a.bodyCls),isNaN(a.width)?(n.width("auto"),i.width("auto")):1==$.boxModel?(n.width(a.width-(n.outerWidth()-n.width())),o.width(n.width()-(o.outerWidth()-o.width())),i.width(n.width()-(i.outerWidth()-i.width()))):(n.width(a.width),o.width(n.width()),i.width(n.width())),isNaN(a.height)?i.height("auto"):1==$.boxModel?(n.height(a.height-(n.outerHeight()-n.height())),i.height(n.height()-o.outerHeight()-(i.outerHeight()-i.height()))):(n.height(a.height),i.height(n.height()-o.outerHeight())),n.css("height",null),a.onResize.apply(e,[a.width,a.height]),n.find(">div.panel-body>div").triggerHandler("_resize")}function movePanel(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel;t&&(null!=t.left&&(a.left=t.left),null!=t.top&&(a.top=t.top)),n.css({left:a.left,top:a.top}),a.onMove.apply(e,[a.left,a.top])}function wrapPanel(e){var t=null;return $.browser.msie&&"6.0"==$.browser.version&&$(e).find(".panel-body")[0]&&(t=$(e).addClass("panel")),null==t&&($(e).find(".panel-body").removeClass("panel-body"),t=$(e).addClass("panel-body").css({overflow:"auto"}).wrap('<div class="panel"></div>').parent()),t.bind("_resize",function(){var t=$.data(e,"panel").options;return 1==t.fit&&setSize(e),!1}),t}function addHeader(target){function onToggle(){return $(this).hasClass("panel-tool-expand")?expandPanel(target,!0):collapsePanel(target,!0),!1}function onMin(){return minimizePanel(target),!1}function onMax(){return $(this).hasClass("panel-tool-restore")?restorePanel(target):maximizePanel(target),!1}function onClose(){return closePanel(target),!1}var opts=$.data(target,"panel").options,panel=$.data(target,"panel").panel;if(removeNode(panel.find(">div.panel-header")),opts.title&&!opts.noheader){var header=$('<div class="panel-header ui-widget-header"><div class="panel-title">'+opts.title+"</div></div>").prependTo(panel);opts.iconCls&&(header.find(".panel-title").addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(opts.iconCls).appendTo(header));var tool=$('<div class="panel-tool"></div>').appendTo(header);if(opts.closable&&$('<div class="panel-tool-close"></div>').appendTo(tool).bind("click",onClose),opts.maximizable&&$('<div class="panel-tool-max"></div>').appendTo(tool).bind("click",onMax),opts.minimizable&&$('<div class="panel-tool-min"></div>').appendTo(tool).bind("click",onMin),opts.collapsible&&$('<div class="panel-tool-collapse"></div>').appendTo(tool).bind("click",onToggle),opts.tools)for(var i=opts.tools.length-1;i>=0;i--){var t=$("<div></div>").addClass(opts.tools[i].iconCls).appendTo(tool);opts.tools[i].handler&&t.bind("click",eval(opts.tools[i].handler))}tool.find("div").hover(function(){$(this).addClass("panel-tool-over")},function(){$(this).removeClass("panel-tool-over")}),panel.find(">div.panel-body").removeClass("panel-body-noheader")}else panel.find(">div.panel-body").addClass("panel-body-noheader")}function loadData(e){var t=$.data(e,"panel");if(t.options.href&&(!t.isLoaded||!t.options.cache)){t.isLoaded=!1;var a=t.panel.find(">div.panel-body");a.html($('<div class="panel-loading"></div>').html(t.options.loadingMessage)),a.load(t.options.href,null,function(){$.parser&&$.parser.parse(a),t.options.onLoad.apply(e,arguments),t.isLoaded=!0})}}function openPanel(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel;(1==t||0!=a.onBeforeOpen.call(e))&&(n.show(),a.closed=!1,a.onOpen.call(e),1==a.maximized&&maximizePanel(e),1==a.minimized&&minimizePanel(e),1==a.collapsed&&collapsePanel(e),a.collapsed||loadData(e))}function closePanel(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel;(1==t||0!=a.onBeforeClose.call(e))&&(n.hide(),a.closed=!0,a.onClose.call(e))}function destroyPanel(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel;(1==t||0!=a.onBeforeDestroy.call(e))&&(removeNode(n),a.onDestroy.call(e))}function collapsePanel(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel,o=n.find(">div.panel-body"),i=n.find(">div.panel-header .panel-tool-collapse");i.hasClass("panel-tool-expand")||(o.stop(!0,!0),0!=a.onBeforeCollapse.call(e)&&(i.addClass("panel-tool-expand"),1==t?o.slideUp("normal",function(){a.collapsed=!0,a.onCollapse.call(e)}):(o.hide(),a.collapsed=!0,a.onCollapse.call(e))))}function expandPanel(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel,o=n.find(">div.panel-body"),i=n.find(">div.panel-header .panel-tool-collapse");i.hasClass("panel-tool-expand")&&(o.stop(!0,!0),0!=a.onBeforeExpand.call(e)&&(i.removeClass("panel-tool-expand"),1==t?o.slideDown("normal",function(){a.collapsed=!1,a.onExpand.call(e),loadData(e)}):(o.show(),a.collapsed=!1,a.onExpand.call(e),loadData(e))))}function maximizePanel(e){var t=$.data(e,"panel").options,a=$.data(e,"panel").panel,n=a.find(">div.panel-header .panel-tool-max");n.hasClass("panel-tool-restore")||(n.addClass("panel-tool-restore"),$.data(e,"panel").original={width:t.width,height:t.height,left:t.left,top:t.top,fit:t.fit},t.left=0,t.top=0,t.fit=!0,setSize(e),t.minimized=!1,t.maximized=!0,t.onMaximize.call(e))}function minimizePanel(e){var t=$.data(e,"panel").options,a=$.data(e,"panel").panel;a.hide(),t.minimized=!0,t.maximized=!1,t.onMinimize.call(e)}function restorePanel(e){var t=$.data(e,"panel").options,a=$.data(e,"panel").panel,n=a.find(">div.panel-header .panel-tool-max");if(n.hasClass("panel-tool-restore")){a.show(),n.removeClass("panel-tool-restore");var o=$.data(e,"panel").original;t.width=o.width,t.height=o.height,t.left=o.left,t.top=o.top,t.fit=o.fit,setSize(e),t.minimized=!1,t.maximized=!1,t.onRestore.call(e)}}function setBorder(e){var t=$.data(e,"panel").options,a=$.data(e,"panel").panel;1==t.border?(a.find(">div.panel-header").removeClass("panel-header-noborder"),a.find(">div.panel-body").removeClass("panel-body-noborder")):(a.find(">div.panel-header").addClass("panel-header-noborder"),a.find(">div.panel-body").addClass("panel-body-noborder"))}function setTitle(e,t){$.data(e,"panel").options.title=t,$(e).panel("header").find("div.panel-title").html(t)}$(window).unbind(".panel").bind("resize.panel",function(){var e=$("body.layout");e.length?e.layout("resize"):$("body>div.panel").triggerHandler("_resize")}),$.fn.panel=function(e,t){if("string"==typeof e)switch(e){case"options":return $.data(this[0],"panel").options;case"panel":return $.data(this[0],"panel").panel;case"header":return $.data(this[0],"panel").panel.find(">div.panel-header");case"body":return $.data(this[0],"panel").panel.find(">div.panel-body");case"setTitle":return this.each(function(){setTitle(this,t)});case"open":return this.each(function(){openPanel(this,t)});case"close":return this.each(function(){closePanel(this,t)});case"destroy":return this.each(function(){destroyPanel(this,t)});case"refresh":return this.each(function(){$.data(this,"panel").isLoaded=!1,loadData(this)});case"resize":return this.each(function(){setSize(this,t)});case"move":return this.each(function(){movePanel(this,t)});case"maximize":return this.each(function(){maximizePanel(this)});case"minimize":return this.each(function(){minimizePanel(this)});case"restore":return this.each(function(){restorePanel(this)});case"collapse":return this.each(function(){collapsePanel(this,t)});case"expand":return this.each(function(){expandPanel(this,t)})}return e=e||{},this.each(function(){var t,a=$.data(this,"panel");if(a)t=$.extend(a.options,e);else{var n=$(this);t=$.extend({},$.fn.panel.defaults,{width:parseInt(n.css("width"))||void 0,height:parseInt(n.css("height"))||void 0,left:parseInt(n.css("left"))||void 0,top:parseInt(n.css("top"))||void 0,title:n.attr("title"),iconCls:n.attr("icon"),cls:n.attr("cls"),headerCls:n.attr("headerCls"),bodyCls:n.attr("bodyCls"),href:n.attr("href"),cache:n.attr("cache")?"true"==n.attr("cache"):void 0,fit:n.attr("fit")?"true"==n.attr("fit"):void 0,border:n.attr("border")?"true"==n.attr("border"):void 0,noheader:n.attr("noheader")?"true"==n.attr("noheader"):void 0,collapsible:n.attr("collapsible")?"true"==n.attr("collapsible"):void 0,minimizable:n.attr("minimizable")?"true"==n.attr("minimizable"):void 0,maximizable:n.attr("maximizable")?"true"==n.attr("maximizable"):void 0,closable:n.attr("closable")?"true"==n.attr("closable"):void 0,collapsed:n.attr("collapsed")?"true"==n.attr("collapsed"):void 0,minimized:n.attr("minimized")?"true"==n.attr("minimized"):void 0,maximized:n.attr("maximized")?"true"==n.attr("maximized"):void 0,closed:n.attr("closed")?"true"==n.attr("closed"):void 0},e),n.attr("title",""),a=$.data(this,"panel",{options:t,panel:wrapPanel(this),isLoaded:!1})}t.content&&($(this).html(t.content),$.parser&&$.parser.parse(this)),addHeader(this),setBorder(this),1==t.doSize&&(a.panel.css("display","block"),setSize(this)),1==t.closed?a.panel.hide():openPanel(this)})},$.fn.panel.defaults={title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,tools:[],href:null,loadingMessage:"Loading...",onLoad:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(){},onMove:function(){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}}(jQuery),function(e){e.fn.resizable=function(t){function a(t){var a=t.data,n=e.data(a.target,"resizable").options;if(-1!=a.dir.indexOf("e")){var o=a.startWidth+t.pageX-a.startX;o=Math.min(Math.max(o,n.minWidth),n.maxWidth),a.width=o}if(-1!=a.dir.indexOf("s")){var i=a.startHeight+t.pageY-a.startY;i=Math.min(Math.max(i,n.minHeight),n.maxHeight),a.height=i}-1!=a.dir.indexOf("w")&&(a.width=a.startWidth-t.pageX+a.startX,a.width>=n.minWidth&&a.width<=n.maxWidth&&(a.left=a.startLeft+t.pageX-a.startX)),-1!=a.dir.indexOf("n")&&(a.height=a.startHeight-t.pageY+a.startY,a.height>=n.minHeight&&a.height<=n.maxHeight&&(a.top=a.startTop+t.pageY-a.startY))}function n(t){var a=t.data,n=a.target;1==e.boxModel?e(n).css({width:a.width-a.deltaWidth,height:a.height-a.deltaHeight,left:a.left,top:a.top}):e(n).css({width:a.width,height:a.height,left:a.left,top:a.top})}function o(t){return e.data(t.data.target,"resizable").options.onStartResize.call(t.data.target,t),!1}function i(t){return a(t),0!=e.data(t.data.target,"resizable").options.onResize.call(t.data.target,t)&&n(t),!1}function r(t){return a(t,!0),n(t),e(document).unbind(".resizable"),e.data(t.data.target,"resizable").options.onStopResize.call(t.data.target,t),!1}return this.each(function(){function a(t){var a=s(t);""==a?e(p).css("cursor","default"):e(p).css("cursor",a+"-resize")}function n(t){var a=s(t);if(""!=a){var n={target:this,dir:a,startLeft:l("left"),startTop:l("top"),left:l("left"),top:l("top"),startX:t.pageX,startY:t.pageY,startWidth:e(p).outerWidth(),startHeight:e(p).outerHeight(),width:e(p).outerWidth(),height:e(p).outerHeight(),deltaWidth:e(p).outerWidth()-e(p).width(),deltaHeight:e(p).outerHeight()-e(p).height()};e(document).bind("mousedown.resizable",n,o),e(document).bind("mousemove.resizable",n,i),e(document).bind("mouseup.resizable",n,r)}}function s(t){var a="",n=e(p).offset(),o=e(p).outerWidth(),i=e(p).outerHeight(),r=d.edge;t.pageY>n.top&&t.pageY<n.top+r?a+="n":t.pageY<n.top+i&&t.pageY>n.top+i-r&&(a+="s"),t.pageX>n.left&&t.pageX<n.left+r?a+="w":t.pageX<n.left+o&&t.pageX>n.left+o-r&&(a+="e");for(var s=d.handles.split(","),l=0;l<s.length;l++){var c=s[l].replace(/(^\s*)|(\s*$)/g,"");if("all"==c||c==a)return a}return""}function l(t){var a=parseInt(e(p).css(t));return isNaN(a)?0:a}var d=null,c=e.data(this,"resizable");if(c?(e(this).unbind(".resizable"),d=e.extend(c.options,t||{})):d=e.extend({},e.fn.resizable.defaults,t||{}),1!=d.disabled){e.data(this,"resizable",{options:d});var p=this;e(this).bind("mousemove.resizable",a).bind("mousedown.resizable",n)}})},e.fn.resizable.defaults={disabled:!1,handles:"n, e, s, w, ne, se, sw, nw, all",minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4,edge:5,onStartResize:function(){},onResize:function(){},onStopResize:function(){}}}(jQuery),function(e){function t(t){function a(e){0!=e.length&&(e.panel("resize",{width:d.width(),height:e.panel("options").height,left:0,top:0}),p.top+=e.panel("options").height,p.height-=e.panel("options").height)}function n(e){0!=e.length&&(e.panel("resize",{width:d.width(),height:e.panel("options").height,left:0,top:d.height()-e.panel("options").height}),p.height-=e.panel("options").height)}function o(e){0!=e.length&&(e.panel("resize",{width:e.panel("options").width,height:p.height,left:d.width()-e.panel("options").width,top:p.top}),p.width-=e.panel("options").width)}function i(e){0!=e.length&&(e.panel("resize",{width:e.panel("options").width,height:p.height,left:0,top:p.top}),p.left+=e.panel("options").width,p.width-=e.panel("options").width)}var s=e.data(t,"layout").options,l=e.data(t,"layout").panels,d=e(t);if(1==s.fit){var c=d.parent();d.width(c.width()).height(c.height())}var p={top:0,left:0,width:d.width(),height:d.height()};r(l.expandNorth)?a(l.expandNorth):a(l.north),r(l.expandSouth)?n(l.expandSouth):n(l.south),r(l.expandEast)?o(l.expandEast):o(l.east),r(l.expandWest)?i(l.expandWest):i(l.west),l.center.panel("resize",p)}function a(a){function o(o){var r=e(">div[region="+o+"]",a).addClass("layout-body"),l=null;"north"==o?l="layout-button-up":"south"==o?l="layout-button-down":"east"==o?l="layout-button-right":"west"==o&&(l="layout-button-left");var d="layout-panel layout-panel-"+o;if("true"==r.attr("split")&&(d+=" layout-split-"+o),r.panel({cls:d,doSize:!1,border:"false"==r.attr("border")?!1:!0,tools:[{iconCls:l,handler:function(){n(a,o)}}]}),"true"==r.attr("split")){var c=r.panel("panel"),p="";"north"==o&&(p="s"),"south"==o&&(p="n"),"east"==o&&(p="w"),"west"==o&&(p="e"),c.resizable({handles:p,onStartResize:function(){if(s=!0,"north"==o||"south"==o)var t=e(">div.layout-split-proxy-v",a);else var t=e(">div.layout-split-proxy-h",a);var n={display:"block"};"north"==o?(n.top=parseInt(c.css("top"))+c.outerHeight()-t.height(),n.left=parseInt(c.css("left")),n.width=c.outerWidth(),n.height=t.height()):"south"==o?(n.top=parseInt(c.css("top")),n.left=parseInt(c.css("left")),n.width=c.outerWidth(),n.height=t.height()):"east"==o?(n.top=parseInt(c.css("top"))||0,n.left=parseInt(c.css("left"))||0,n.width=t.width(),n.height=c.outerHeight()):"west"==o&&(n.top=parseInt(c.css("top"))||0,n.left=c.outerWidth()-t.width(),n.width=t.width(),n.height=c.outerHeight()),t.css(n),e('<div class="layout-mask"></div>').css({left:0,top:0,width:i.width(),height:i.height()}).appendTo(i)},onResize:function(t){if("north"==o||"south"==o){var n=e(">div.layout-split-proxy-v",a);n.css("top",t.pageY-e(a).offset().top-n.height()/2)}else{var n=e(">div.layout-split-proxy-h",a);n.css("left",t.pageX-e(a).offset().left-n.width()/2)}return!1},onStopResize:function(){e(">div.layout-split-proxy-v",a).css("display","none"),e(">div.layout-split-proxy-h",a).css("display","none");var n=r.panel("options");n.width=c.outerWidth(),n.height=c.outerHeight(),n.left=c.css("left"),n.top=c.css("top"),r.panel("resize"),t(a),s=!1,i.find(">div.layout-mask").remove()}})}return r}var i=e(a);("BODY"==i[0].tagName||"DIV"==i[0].tagName)&&(e("html").css({height:"100%",overflow:"hidden"}),e("body").css({height:"100%",overflow:"hidden",border:"none"})),i.addClass("layout"),i.css({margin:0,padding:0}),e('<div class="layout-split-proxy-h"></div>').appendTo(i),e('<div class="layout-split-proxy-v"></div>').appendTo(i);var r={center:o("center")};return r.north=o("north"),r.south=o("south"),r.east=o("east"),r.west=o("west"),e(a).bind("_resize",function(){var n=e.data(a,"layout").options;return 1==n.fit&&t(a),!1}),e(window).resize(function(){t(a)}),r}function n(t,a){function n(n){var i;"east"==n?i="layout-button-left":"west"==n?i="layout-button-right":"north"==n?i="layout-button-down":"south"==n&&(i="layout-button-up");var r=e("<div></div>").appendTo(s).panel({cls:"layout-expand ui-widget-header",title:"&nbsp;",closed:!0,doSize:!1,tools:[{iconCls:i,handler:function(){o(t,a)}}]});return r.panel("panel").hover(function(){e(this).addClass("layout-expand-over")},function(){e(this).removeClass("layout-expand-over")}),r}var i=e.data(t,"layout").panels,s=e(t);if("east"==a){if(0==i.east.panel("options").onBeforeCollapse.call(i.east))return;i.center.panel("resize",{width:i.center.panel("options").width+i.east.panel("options").width-28}),i.east.panel("panel").animate({left:s.width()},function(){i.east.panel("close"),i.expandEast.panel("open").panel("resize",{top:i.east.panel("options").top,left:s.width()-28,width:28,height:i.east.panel("options").height}),i.east.panel("options").onCollapse.call(i.east)}),i.expandEast||(i.expandEast=n("east"),i.expandEast.panel("panel").click(function(){return i.east.panel("open").panel("resize",{left:s.width()}),i.east.panel("panel").animate({left:s.width()-i.east.panel("options").width}),!1}))}else if("west"==a){if(0==i.west.panel("options").onBeforeCollapse.call(i.west))return;i.center.panel("resize",{width:i.center.panel("options").width+i.west.panel("options").width-28,left:28}),i.west.panel("panel").animate({left:-i.west.panel("options").width},function(){i.west.panel("close"),i.expandWest.panel("open").panel("resize",{top:i.west.panel("options").top,left:0,width:28,height:i.west.panel("options").height}),i.west.panel("options").onCollapse.call(i.west)}),i.expandWest||(i.expandWest=n("west"),i.expandWest.panel("panel").click(function(){return i.west.panel("open").panel("resize",{left:-i.west.panel("options").width}),i.west.panel("panel").animate({left:0}),!1}))}else if("north"==a){if(0==i.north.panel("options").onBeforeCollapse.call(i.north))return;var l=s.height()-28;r(i.expandSouth)?l-=i.expandSouth.panel("options").height:r(i.south)&&(l-=i.south.panel("options").height),i.center.panel("resize",{top:28,height:l}),i.east.panel("resize",{top:28,height:l}),i.west.panel("resize",{top:28,height:l}),r(i.expandEast)&&i.expandEast.panel("resize",{top:28,height:l}),r(i.expandWest)&&i.expandWest.panel("resize",{top:28,height:l}),i.north.panel("panel").animate({top:-i.north.panel("options").height},function(){i.north.panel("close"),i.expandNorth.panel("open").panel("resize",{top:0,left:0,width:s.width(),height:28}),i.north.panel("options").onCollapse.call(i.north)}),i.expandNorth||(i.expandNorth=n("north"),i.expandNorth.panel("panel").click(function(){return i.north.panel("open").panel("resize",{top:-i.north.panel("options").height}),i.north.panel("panel").animate({top:0}),!1}))}else if("south"==a){if(0==i.south.panel("options").onBeforeCollapse.call(i.south))return;var l=s.height()-28;r(i.expandNorth)?l-=i.expandNorth.panel("options").height:r(i.north)&&(l-=i.north.panel("options").height),i.center.panel("resize",{height:l}),i.east.panel("resize",{height:l}),i.west.panel("resize",{height:l}),r(i.expandEast)&&i.expandEast.panel("resize",{height:l}),r(i.expandWest)&&i.expandWest.panel("resize",{height:l}),i.south.panel("panel").animate({top:s.height()},function(){i.south.panel("close"),i.expandSouth.panel("open").panel("resize",{top:s.height()-28,left:0,width:s.width(),height:28}),i.south.panel("options").onCollapse.call(i.south)}),i.expandSouth||(i.expandSouth=n("south"),i.expandSouth.panel("panel").click(function(){return i.south.panel("open").panel("resize",{top:s.height()}),i.south.panel("panel").animate({top:s.height()-i.south.panel("options").height}),!1}))}}function o(a,n){var o=e.data(a,"layout").panels,i=e(a);if("east"==n&&o.expandEast){if(0==o.east.panel("options").onBeforeExpand.call(o.east))return;o.expandEast.panel("close"),o.east.panel("panel").stop(!0,!0),o.east.panel("open").panel("resize",{left:i.width()}),o.east.panel("panel").animate({left:i.width()-o.east.panel("options").width},function(){t(a),o.east.panel("options").onExpand.call(o.east)})}else if("west"==n&&o.expandWest){if(0==o.west.panel("options").onBeforeExpand.call(o.west))return;o.expandWest.panel("close"),o.west.panel("panel").stop(!0,!0),o.west.panel("open").panel("resize",{left:-o.west.panel("options").width}),o.west.panel("panel").animate({left:0},function(){t(a),o.west.panel("options").onExpand.call(o.west)})}else if("north"==n&&o.expandNorth){if(0==o.north.panel("options").onBeforeExpand.call(o.north))return;o.expandNorth.panel("close"),o.north.panel("panel").stop(!0,!0),o.north.panel("open").panel("resize",{top:-o.north.panel("options").height}),o.north.panel("panel").animate({top:0},function(){t(a),o.north.panel("options").onExpand.call(o.north)})}else if("south"==n&&o.expandSouth){if(0==o.south.panel("options").onBeforeExpand.call(o.south))return;o.expandSouth.panel("close"),o.south.panel("panel").stop(!0,!0),o.south.panel("open").panel("resize",{top:i.height()}),o.south.panel("panel").animate({top:i.height()-o.south.panel("options").height},function(){t(a),o.south.panel("options").onExpand.call(o.south)})}}function i(t){function a(e){return 1!=s?("east"!=e.data&&r(n.east)&&r(n.expandEast)&&n.east.panel("panel").animate({left:o.width()},function(){n.east.panel("close")}),"west"!=e.data&&r(n.west)&&r(n.expandWest)&&n.west.panel("panel").animate({left:-n.west.panel("options").width},function(){n.west.panel("close")}),"north"!=e.data&&r(n.north)&&r(n.expandNorth)&&n.north.panel("panel").animate({top:-n.north.panel("options").height},function(){n.north.panel("close")}),"south"!=e.data&&r(n.south)&&r(n.expandSouth)&&n.south.panel("panel").animate({top:o.height()},function(){n.south.panel("close")}),!1):void 0}var n=e.data(t,"layout").panels,o=e(t);n.east.length&&n.east.panel("panel").bind("mouseover","east",a),n.west.length&&n.west.panel("panel").bind("mouseover","west",a),n.north.length&&n.north.panel("panel").bind("mouseover","north",a),n.south.length&&n.south.panel("panel").bind("mouseover","south",a),n.center.panel("panel").bind("mouseover","center",a)}function r(e){return e?e.length?e.panel("panel").is(":visible"):!1:!1}var s=!1;e.fn._layout=function(r,s){if("string"==typeof r)switch(r){case"panel":return null==e.data(this[0],"layout")&&e(this).layout(),e.data(this[0],"layout").panels[s];case"collapse":return this.each(function(){n(this,s)});case"expand":return this.each(function(){o(this,s)})}return this.each(function(){var n=e.data(this,"layout");if(!n){var o=e.extend({},{fit:"true"==e(this).attr("fit")});e.data(this,"layout",{options:o,panels:a(this)}),i(this)}t(this)})},e.fn.layout=function(){var t=new layoutWidget;return t.init(e(this)),t},layoutWidget=function(){this.$=null,this.init=function(e){this.$=e,e._layout()},this.getPanel=function(e){return this.$._layout("panel",e)},this.collapse=function(e){this.$._layout("collapse",e)},this.expand=function(e){this.$._layout("expand",e)}},e.layoutInit=function(e){e._layout()}}(jQuery);